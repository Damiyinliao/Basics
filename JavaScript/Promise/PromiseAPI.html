<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise API</title>
</head>
<body>
    <script>

        // 1. resolve  方法
        //let p1 = Promise.resolve(110);
        //console.log(p1);
        ////如果传入的参数为 非 Promise 类型的对象，则返回的结果为成功promise对象
        ////如果传入的参数为promise对象， 则参数的结果决定了resolve的结果
        //let p2 = Promise.resolve(new Promise((resolve, reject)=>{
        //    reject('Error')
        //}));
        //console.log(p2);
        //p2.catch(reason=>{
        //    console.log(reason);
        //})

        // 2. reject    方法
        // let m1 = Promise.reject(120);
        // let m2 = Promise.reject('iloveyou');
        // console.log(m1);
        // console.log(m2);
        //let m3 = Promise.reject(new Promise((resolve, reject)=>{
        //    resolve('ook');
        //}))
        //
        //console.log(m3);
        //m3.catch(reason=>{
        //    console.log(reason);
        //})

        // 3. all 方法

        let p1 = new Promise((resolve, reject)=>{
            resolve('OK');
        })
        let p2 = Promise.resolve('Success');
        
        let p3 = Promise.resolve('成功');
        // 所有成功则返回成功 有一个失败则失败
        const res1 = Promise.all([p1, p2, p3]);
       
        console.log(res1);
      
        let p4 = Promise.reject('失败');
        const res2 = Promise.all([p1, p4, p3]);
        console.log(res2);

        // 4. race 方法  返回第一个先执行的Promise对象的结果

        let p5 = new Promise((resolve, reject)=>{
             setTimeout(()=>{
                 reject('bingo');
             }, 1000)
        });
        console.log("-----分割线-----");
        //调用 
        const result1 = Promise.race([p5, p3, p2]);
        console.log(result1);
    </script>
</body>
</html>